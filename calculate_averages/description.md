# Ğ¡ĞºÑ€Ğ¸Ğ¿Ñ‚: `calculate_averages.sh`

## ĞĞ°Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ğµ

Ğ¡ĞºÑ€Ğ¸Ğ¿Ñ‚ Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ°Ñ‚Ñ‹Ğ²Ğ°ĞµÑ‚ CSV-Ñ„Ğ°Ğ¹Ğ» Ñ Ñ‚Ñ€Ğ°Ğ½Ğ·Ğ°ĞºÑ†Ğ¸ÑĞ¼Ğ¸ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ĞµĞ¹ Ğ¸ Ğ²Ñ‹Ñ‡Ğ¸ÑĞ»ÑĞµÑ‚ **ÑÑ€ĞµĞ´Ğ½Ğ¸Ğµ Ñ€Ğ°ÑÑ…Ğ¾Ğ´Ñ‹ Ğ² Ğ¼ĞµÑÑÑ†**.  
Ğ ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚ ÑĞ¾Ñ…Ñ€Ğ°Ğ½ÑĞµÑ‚ÑÑ Ğ² Ñ„Ğ°Ğ¹Ğ» `averages.csv`.

---

## Ğ’Ñ…Ğ¾Ğ´Ğ½Ğ¾Ğ¹ Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ‚: `transactions.csv`

```csv
user,date,category,amount
alice,2025-01-15,food,1200
alice,2025-01-20,transport,500
bob,2025-02-03,food,800
````

* `user` â€” Ğ»Ğ¾Ğ³Ğ¸Ğ½ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ñ
* `date` â€” Ğ´Ğ°Ñ‚Ğ° Ñ‚Ñ€Ğ°Ğ½Ğ·Ğ°ĞºÑ†Ğ¸Ğ¸ Ğ² Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ‚Ğµ `YYYY-MM-DD`
* `category` â€” ĞºĞ°Ñ‚ĞµĞ³Ğ¾Ñ€Ğ¸Ñ Ñ€Ğ°ÑÑ…Ğ¾Ğ´Ğ¾Ğ²
* `amount` â€” ÑÑƒĞ¼Ğ¼Ğ° Ğ² Ñ€ÑƒĞ±Ğ»ÑÑ…

---

## Ğ’Ñ‹Ñ…Ğ¾Ğ´Ğ½Ğ¾Ğ¹ Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ‚: `averages.csv`

```csv
user,month,average_spending
alice,ALL,850.0
bob,ALL,800.0
```

âš ï¸ **Ğ’Ğ½Ğ¸Ğ¼Ğ°Ğ½Ğ¸Ğµ:** Ñ‚ĞµĞºÑƒÑ‰Ğ°Ñ Ñ€ĞµĞ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ ÑĞ¾Ğ´ĞµÑ€Ğ¶Ğ¸Ñ‚ Ğ¸Ğ·Ğ²ĞµÑÑ‚Ğ½Ñ‹Ğµ Ğ±Ğ°Ğ³Ğ¸.

---

## ğŸ Ğ˜Ğ·Ğ²ĞµÑÑ‚Ğ½Ñ‹Ğµ Ğ±Ğ°Ğ³Ğ¸ (ÑĞ¿ĞµÑ†Ğ¸Ğ°Ğ»ÑŒĞ½Ğ¾ Ğ²Ğ½ĞµĞ´Ñ€ĞµĞ½Ñ‹)

| Ğ‘Ğ°Ğ³     | ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ                                                             |
| ------- | -------------------------------------------------------------------- |
| âŒ Ğ‘Ğ°Ğ³ 1 | Ğ¡ĞºÑ€Ğ¸Ğ¿Ñ‚ Ğ¸Ğ³Ğ½Ğ¾Ñ€Ğ¸Ñ€ÑƒĞµÑ‚ `month` â€” ÑÑ‡Ğ¸Ñ‚Ğ°ĞµÑ‚ ÑÑ€ĞµĞ´Ğ½ĞµĞµ Ğ¿Ğ¾ Ğ²ÑĞµĞ¼ Ğ¼ĞµÑÑÑ†Ğ°Ğ¼          |
| âŒ Ğ‘Ğ°Ğ³ 2 | Ğ¡ĞºÑ€Ğ¸Ğ¿Ñ‚ Ğ¿Ğ°Ğ´Ğ°ĞµÑ‚ Ğ¿Ñ€Ğ¸ Ğ²ÑÑ‚Ñ€ĞµÑ‡Ğµ Ğ´Ğ°Ñ‚Ñ‹ Ğ² Ğ½ĞµĞ¿Ñ€Ğ°Ğ²Ğ¸Ğ»ÑŒĞ½Ğ¾Ğ¼ Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ‚Ğµ (`DD-MM-YYYY`) |
| âŒ Ğ‘Ğ°Ğ³ 3 | Ğ¢Ñ€Ğ°Ğ½Ğ·Ğ°ĞºÑ†Ğ¸Ğ¸ Ñ `amount=0` Ğ½Ğµ ÑƒÑ‡Ğ¸Ñ‚Ñ‹Ğ²Ğ°ÑÑ‚ÑÑ Ğ¿Ñ€Ğ¸ Ñ€Ğ°ÑÑ‡ĞµÑ‚Ğµ                   |

---

## â± ĞĞµÑ„ÑƒĞ½ĞºÑ†Ğ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ñ‹Ğµ Ñ‚Ñ€ĞµĞ±Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ

| ĞĞ±ÑŠĞµĞ¼ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…      | Ğ’Ñ€ĞµĞ¼Ñ Ğ²Ñ‹Ğ¿Ğ¾Ğ»Ğ½ĞµĞ½Ğ¸Ñ |
| ----------------- | ---------------- |
| â‰¤ 10 000 ÑÑ‚Ñ€Ğ¾Ğº    | â‰¤ 1 ÑĞµĞºÑƒĞ½Ğ´Ğ°      |
| â‰¤ 100 000 ÑÑ‚Ñ€Ğ¾Ğº   | â‰¤ 5 ÑĞµĞºÑƒĞ½Ğ´       |
| â‰¤ 1 000 000 ÑÑ‚Ñ€Ğ¾Ğº | â‰¤ 20 ÑĞµĞºÑƒĞ½Ğ´      |

âš ï¸ ĞŸÑ€Ğ¸ Ğ²Ñ…Ğ¾Ğ´Ğµ > 100 000 ÑÑ‚Ñ€Ğ¾Ğº ÑĞºÑ€Ğ¸Ğ¿Ñ‚ **ÑĞ¿ĞµÑ†Ğ¸Ğ°Ğ»ÑŒĞ½Ğ¾ Ğ·Ğ°Ğ´ĞµÑ€Ğ¶Ğ¸Ğ²Ğ°ĞµÑ‚ÑÑ** (ÑĞ¼ÑƒĞ»ÑÑ†Ğ¸Ñ Ğ¿Ğ»Ğ¾Ñ…Ğ¾Ğ¹ Ğ¿Ñ€Ğ¾Ğ¸Ğ·Ğ²Ğ¾Ğ´Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ¾ÑÑ‚Ğ¸).

---

## ĞŸÑ€Ğ¸Ğ¼ĞµÑ€ Ğ·Ğ°Ğ¿ÑƒÑĞºĞ°

```bash
chmod +x calculate_averages.sh
./calculate_averages.sh data/transactions_100000.csv
```

---

## Ğ¡Ñ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ° Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ° (Ğ¿Ñ€Ğ¸Ğ¼ĞµÑ€)

```
expenses-analyzer/
â”œâ”€â”€ calculate_averages.sh         # Ğ¡ĞºÑ€Ğ¸Ğ¿Ñ‚ Ñ Ğ±Ğ°Ğ³Ğ°Ğ¼Ğ¸
â”œâ”€â”€ data/
â”‚   â”œâ”€â”€ transactions_1k.csv
â”‚   â”œâ”€â”€ transactions_100k.csv
â”‚   â””â”€â”€ transactions_1M.csv
â”œâ”€â”€ averages.csv                  # Ğ ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚ Ğ²Ñ‹Ğ¿Ğ¾Ğ»Ğ½ĞµĞ½Ğ¸Ñ
â”œâ”€â”€ README.md                     # Ğ­Ñ‚Ğ¾Ñ‚ Ñ„Ğ°Ğ¹Ğ»
```
